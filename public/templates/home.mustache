<h1>Home</h1>
{{#if assignment}}
  <div class="d-flex w-100 justify-content-between" id="collapseAssignments">
    <h2>My Assignments</h2>
    <button type="button" class="btn btn-default btn-sm">
      <i class="material-icons" id="collapseAssignmentsIcon">expand_less</i>
    </button>
  </div>

  <div class="list-group collapse show" id="assignmentsList">
    {{#each assignment}}
      <div class="list-group-item list-group-item-action assignment" id="{{this.assignmentID}}">
        <div class="d-flex w-100 justify-content-between">
          <h4 class="mb-0">{{this.title}}
            <i class="material-icons align-middle" data-toggle="tooltip" data-placement="top" title="{{this.blurb}}">
              info
            </i>
          </h4>
          <h4 class="mb-0 ml-auto text-right">
            {{#each this.badges as |value key|}}
              {{#if value.isVisible}}
                <span data-toggle="tooltip" data-placement="top" title="{{value.tooltip}}"
                      class="badge badge-{{value.modifier}}">{{value.text}}</span>
              {{/if}}
            {{/each}}
          </h4>
        </div>
      </div>
    {{/each}}
  </div>

  <div class="mt-3 d-flex w-100 justify-content-between" id="collapseReviews">
    <h2>My Reviews</h2>
    <button type="button" class="btn btn-default btn-sm">
      <i class="material-icons" id="collapseReviewsIcon">expand_less</i>
    </button>
  </div>

  <div class="list-group collapse show" id="reviewsList">
    {{#each reviews}}
      <div class="list-group-item list-group-item-action review{{#if this.isMore}} moreReview{{/if}}"
           id="{{this.assignmentID}}{{this.workerID}}" {{#if this.isMore}}style="display:none;"{{/if}}>

        <div class="d-flex w-100 justify-content-between">
          <h4 class="mb-0">
            <img src="{{this.work.worker.identicon}}" style="height: 30px;"
                 alt="{{this.work.worker.displayName}}'s icon">
            {{this.work.worker.displayName}} - {{this.assignment.title}}
            <i class="material-icons align-middle" data-toggle="tooltip" data-placement="top"
               title="Your review of {{this.work.worker.displayName}}'s submission for {{this.assignment.title}}">
              info
            </i>
          </h4>
          <h4 class="mb-0 ml-auto text-right">
            {{#each this.badges}}
              <span data-toggle="tooltip" data-placement="top" title="{{this.tooltip}}"
                    {{#unless this.isVisible}}style="display:none;"{{/unless}}
                    class="badge badge-{{this.modifier}}">{{this.text}}</span>
            {{/each}}
          </h4>
        </div>

      </div>
    {{/each}}
    {{#if moreReviews}}
      <div class="list-group-item list-group-item-action" id="moreReviews">
        <p class="text-center mb-0">
          Show {{moreReviews}} more review(s) which are no longer actionable
        </p>
      </div>
    {{/if}}
  </div>

  <div class="mt-3 d-flex w-100 justify-content-between" id="collapseCritiques">
    <h2>My Critiques</h2>
    <button type="button" class="btn btn-default btn-sm">
      <i class="material-icons" id="collapseCritiquesIcon">expand_less</i>
    </button>
  </div>

  <div class="list-group collapse show" id="critiquesList">
    {{#each critiques}}
      <div class="list-group-item list-group-item-action critique{{#if this.isMore}} moreCritique{{/if}}"
           id="{{this.assignmentID}}{{this.workerID}}{{this.reviewerID}}"
           {{#if this.isMore}}style="display:none;"{{/if}}>

        <div class="d-flex w-100 justify-content-between">
          <h4 class="mb-0">
            <img src="{{this.reviewer.identicon}}" style="height: 30px;"
                 alt="{{this.reviewer.displayName}}'s icon">
            {{this.reviewer.displayName}} - {{this.work.worker.displayName}} - {{this.assignment.title}}
            <i class="material-icons align-middle" data-toggle="tooltip" data-placement="top"
               title="Your critique of {{this.reviewer.displayName}}'s review of {{this.work.worker.displayName}}'s submission for {{this.assignment.title}}">info</i>
          </h4>
          <h4 class="mb-0 ml-auto text-right">
            {{#each this.badges}}
              <span data-toggle="tooltip" data-placement="top" title="{{this.tooltip}}"
                    class="badge badge-{{this.modifier}}">{{this.text}}</span>
            {{/each}}
          </h4>
        </div>

      </div>
    {{/each}}
    {{#if moreCritiques}}
      <div class="list-group-item list-group-item-action" id="moreCritiques">
        <p class="text-center mb-0">
          Show {{moreCritiques}} more critique(s) which are no longer actionable
        </p>
      </div>
    {{/if}}
  </div>

{{else}}
  <h3>Something's Wrong!</h3>
  <p>It appears as though there are no assignments tied to your user, if in doubt, contact your lecturer!</p>
{{/if}}